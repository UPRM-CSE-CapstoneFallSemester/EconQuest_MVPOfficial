{% extends 'base.html' %}
{% block content %}
<h1 class="text-xl font-semibold mb-4">Módulos disponibles</h1>
<div class="grid md:grid-cols-2 gap-4">
  {% for m in modules %}
  <div class="bg-white p-5 rounded-2xl shadow">
    <h2 class="font-semibold">{{ m.title }} ({{ m.lang }})</h2>
    <p class="text-sm text-slate-600">Prácticas cortas con feedback inmediato.</p>
  </div>
  {% endfor %}
</div>

<h2 class="text-xl font-semibold mt-8 mb-4">Actividades</h2>
<div class="grid md:grid-cols-2 gap-4">
  {% for a in activities %}
  <div class="bg-white p-5 rounded-2xl shadow">
    <h3 class="font-medium">{{ a.type|capitalize }} · Max {{ a.max_points }} pts</h3>
    <p class="text-sm text-slate-600">{{ a.config_json.prompt }}</p>
    <form class="mt-3" method="post" action="{{ url_for('student.start_attempt', activity_id=a.id) }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <select name="answer" class="border rounded p-2 w-full">
        {% for opt in a.config_json.options %}
          <option value="{{ opt.label }}">{{ opt.label }}</option>
        {% endfor %}
      </select>
      <button class="mt-2 px-3 py-2 rounded bg-emerald-600 text-white">Intentar</button>
    </form>
  </div>
  {% endfor %}
</div>
{% endblock %}

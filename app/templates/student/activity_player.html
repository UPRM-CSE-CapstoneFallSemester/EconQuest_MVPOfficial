 {% extends 'student/layout.html' %}
{% block student_content %}
<h1 class="text-xl font-semibold mb-4">{{ act.title }}</h1>

<form method="post" class="space-y-4">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

  {% set dtype = data.get('type', 'scenario') %}

    {% if dtype == 'quiz' %}
      {% set q = data.questions[0] %}
      <div class="rounded-xl p-4 bg-emerald-900/20 border border-emerald-700/30">
        <div class="mb-3 font-medium">{{ q.q }}</div>
        <div class="space-y-2">
          {% for opt in q.options %}
            <label class="flex gap-2 items-start">
              <input type="radio" name="answer" value="{{ loop.index0 }}">
              <span>{{ opt.text }}</span>
            </label>
          {% endfor %}
        </div>
      </div>

    {% else %} {# default = scenario #}
      <div class="rounded-xl p-4 bg-emerald-900/20 border border-emerald-700/30">
        <div class="mb-3 font-medium">{{ data.prompt }}</div>
        <div class="space-y-2">
          {% for opt in data.options %}
            <label class="flex gap-2 items-start">
              <input type="radio" name="choice" value="{{ loop.index0 }}">
              <span>{{ opt.label }}</span>
            </label>
          {% endfor %}
        </div>
      </div>
    {% endif %}

  <button class="px-4 py-2 rounded bg-emerald-600 text-white">Enviar</button>
  <a class="ml-2 text-emerald-300" href="{{ url_for('student_ui.module_detail', module_id=act.module_id) }}">Volver al m√≥dulo</a>
</form>
{% endblock %}
